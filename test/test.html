<!DOCTYPE html>
<html lang="en" ng-app="myApp">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AngularJS</title>
    <script>document.write('<base href="' + document.location + '"/>');</script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">
    <script src="https://code.angularjs.org/1.0.7/angular.min.js"></script>
    <script src="jsonload.js"></script>
</head>
<body>
    <div class="container">
        <div ng-controller="jsonCtrl">
            <div class="mb-3">
                <label for="proName" class="form-label">Product Name</label>
                <input type="text" class="form-control" id="proName" ng-model="proName" placeholder="Enter Product Name">
            </div>
            <div class="mb-3">
                <label for="price" class="form-label">Price</label>
                <input type="text" class="form-control" id="price" ng-model="price" placeholder="Enter Price">
            </div>
 
            <button class="btn" ng-click="addPro()">Add <i class="icon-plus"></i></button>
            <br/><br/>
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Price</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="resource in product">
                        <td>
                            <button type="button" class="btn btn-primary btn-sm" data-toggle="modal" 
                            data-target="#myModalEdit" ng-click="selectPro(resource)">Edit</button>
                        </td>
                        <td>
                            <button class="btn btn-warning btn-sm" data-toggle="modal" 
                            data-target="#myModalDelete" ng-click="selectPro(pro)" type="button">Delete</button>
                        </td>
                        <td>{{ resource.name }}</td>
                        <td>{{ resource.price }}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="modal fade " id="myModalEdit" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Edit Pro</h4>
                    <button class="close" type="button" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body">
                    <form action="" class="form-horizontal">
                        <div class="form-group">
                            <label for="" class="control-label col-sm-2">Pro Name</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" ng-model="clickedPro.name">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="" class="control-label col-sm-2">Email</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" ng-model="clickedPro.email">
                            </div>

                        <div class="form-group">
                            <div class="col-sm-10 col-sm-offset-2">
                                <button class="btn btn-success" type="submit" ng-click="editPro()"
                                data-dismiss="modal">Save Changes</button>
                            </div>
                        </div>

                    </form>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-default" type="button" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="myModalDelete" role="dialog">
        <div class="modal-dialog">

    <div class="modal-content">
        <div class="modal-header">
            <h4 class="modal-title">Delete Pro</h4>
            <button class="close" type="button" data-dismiss="modal">x</button>

        </div>
        <div class="modal-body">
            <strong style="color:red;">Are you sure you want to delete " {{clickedPro.name}} " Pro ? </strong>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="deletePro()">Yes</button>
            <button type="button" class="btn btn-default" data-dismiss="modal">No</button>
        </div>
            </div>
        </div>
    </div>
</body>
</html>
